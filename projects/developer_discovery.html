<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>rha6780 Portfolio</title>
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--title-icon--------->
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <!--using FontAwesome---------------->
    <script src="https://kit.fontawesome.com/c8e4d183c2.js" crossorigin="anonymous"></script>
</head>

<body>
    <!--main------------------------>
    <!--navigation-------------------------------->
    <nav>
        <a href="/portfolio/" class="logo">rha6780</a>
        <div class="toggle"></div>
        <a href="/" class="lang">🧢 Blog</a>
    </nav>
    <!--name--------------------------->
    <section id="services">
        <div id="developerdiscovery" class="project-item">
            <div class="s-box">
                <div class="s-heading">
                    <h1>Developer Discovery</h1>
                    <br />
                    <p>👤 개인 프로젝트 - 1인 개발 (WEB)</p>
                    <p>2023-04 ~ 진행중</p>
                </div>
                <div class="b-container">
                    <div class="s-b-text">
                        <p>사이트 이미지</p>
                        <div class="photo">
                            <img width="40%" alt="site_01" src="../images/developer_discovery/site_01.png">
                            <img width="40%" alt="site_02" src="../images/developer_discovery/site_02.png">
                            <img width="40%" alt="site_03" src="../images/developer_discovery/site_03.png">
                        </div>

                        <p> 개발 관련 글 게시판 웹 페이지로 기본적인 유저 기능, 글 작성, 댓글 작성 등의 기능이 있습니다.</p>
                        <br>
                        <button onclick="location.href='https://rha6780.github.io/categories/developer_discovery'">프로젝트
                            기록 보러가기</button>
                        <br>
                        <br>
                        <br>
                        <h2 style="text-align: center;">DB ERD와 API</h2>
                        <br>
                        <div class="photo">
                            <img width="90%" src="../images/developer_discovery/Developer Discovery_ERD.png">
                        </div>
                        <div style="text-align: left;">
                            <style type="text/css">
                                table {
                                    width: 90%;
                                    margin-left: auto;
                                    margin-right: auto;
                                }

                                .tg {
                                    border-collapse: collapse;
                                    border-color: #9ABAD9;
                                    border-spacing: 0;
                                }

                                .tg td {
                                    background-color: #EBF5FF;
                                    border-color: #9ABAD9;
                                    border-style: solid;
                                    border-width: 1px;
                                    color: #444;
                                    font-family: Arial, sans-serif;
                                    font-size: 14px;
                                    overflow: hidden;
                                    padding: 10px 5px;
                                    word-break: normal;
                                }

                                .tg th {
                                    background-color: #237edf;
                                    border-color: #9ABAD9;
                                    border-style: solid;
                                    border-width: 1px;
                                    color: #fff;
                                    font-family: Arial, sans-serif;
                                    font-size: 14px;
                                    font-weight: normal;
                                    overflow: hidden;
                                    padding: 10px 5px;
                                    word-break: normal;
                                }

                                .tg .tg-0lax {
                                    text-align: left;
                                    vertical-align: top
                                }

                                .tg .tg-0lax-ah {
                                    background-color: #409cff;
                                    border-color: #9ABAD9;
                                    border-style: solid;
                                    border-width: 1px;
                                    color: #fff;
                                    text-align: left;
                                    vertical-align: top
                                }

                                .tg .get {
                                    color: #237edf;
                                }

                                .tg .post {
                                    color: rgb(43, 214, 43);
                                }

                                .tg .patch {
                                    color: #00ffdd;
                                }

                                .tg .delete {
                                    color: red;
                                }
                            </style>
                            <p style="text-align: center;">📍 API 리스트</p>

                            <br>
                            <table class="tg">
                                <thead>
                                    <tr>
                                        <th class="tg-0lax">URL</th>
                                        <th class="tg-0lax">기능</th>
                                        <th class="tg-0lax">설명</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="tg-0lax-ah">Accounts</td>
                                        <td class="tg-0lax-ah">회원 관련 API</td>
                                        <td class="tg-0lax-ah"> -- </td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span> /api/v1/accounts/signup
                                        </td>
                                        <td class="tg-0lax">회원가입</td>
                                        <td class="tg-0lax">이메일이 valid 한 경우(중복, 이메일 형식인지 체크) → password가 8자 이상</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span> /api/v1/accounts/signin
                                        </td>
                                        <td class="tg-0lax">로그인</td>
                                        <td class="tg-0lax">이메일 및 비밀번호에 따라 로그인</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span>
                                            /api/v1/accounts/email-check</td>
                                        <td class="tg-0lax">이메일 체크</td>
                                        <td class="tg-0lax">해당 이메일이 유효한지(중복, 이메일 양식인지) 체크</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span>
                                            /api/v1/accounts/reset-password</td>
                                        <td class="tg-0lax">비밀번호 재설정</td>
                                        <td class="tg-0lax">비밀번호를 잊어버렸을 때 이메일을 작성하면, 이메일 체크 API → 토큰이 포함된 링크를 이메일로
                                            전송 → 링크를 누르면
                                            재설정 페이지로 가고, 토큰이 유효한지 체크하고 비밀번호 변경</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="delete">[DELETE]</span>
                                            /api/v1/accounts/withdrawal</td>
                                        <td class="tg-0lax">탈퇴</td>
                                        <td class="tg-0lax">soft-delete가 적용됨 → TODO: 추후 이메일 등 개인정보를 삭제하는 로직, Cron 필요
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax-ah">Users</td>
                                        <td class="tg-0lax-ah">유저 프로필 API</td>
                                        <td class="tg-0lax-ah"> -- </td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="get">[GET]</span> /api/v1/users</td>
                                        <td class="tg-0lax">현재 유저 정보</td>
                                        <td class="tg-0lax">현재 로그인된 유저 정보를 반환 → 닉네임, id, email, 프로필 이미지
                                            or 로그인하지 않은 상태라면 빈 값</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span> /api/v1/users</td>
                                        <td class="tg-0lax">유저 정보 변경</td>
                                        <td class="tg-0lax">현재 유저의 이메일 또는 이름을 변경</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span> /api/v1/users/image</td>
                                        <td class="tg-0lax">유저 프로필 이미지 변경</td>
                                        <td class="tg-0lax">현재 유저의 이미지 S3 업로드</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span> /api/v1/users/password
                                        </td>
                                        <td class="tg-0lax">비밀번호 변경</td>
                                        <td class="tg-0lax">현재 유저의 비밀번호 변경</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax-ah">Tokens</td>
                                        <td class="tg-0lax-ah">유저 JWT API</td>
                                        <td class="tg-0lax-ah"> -- </td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span> /api/v1/tokens</td>
                                        <td class="tg-0lax">토큰 생성</td>
                                        <td class="tg-0lax">유저 로그인, 회원 가입시 토큰 생성</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span> /api/v1/tokens/refresh
                                        </td>
                                        <td class="tg-0lax">토큰 재설정</td>
                                        <td class="tg-0lax">토큰 재설정 -> 프론트에서 토큰이 있고, 401이 응답되었을때 refresh가 호출되고 다시 원래
                                            요청이
                                            호출되는 형식</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span> /api/v1/tokens/verify
                                        </td>
                                        <td class="tg-0lax">토큰 유효성 검사</td>
                                        <td class="tg-0lax"></td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax-ah">Posts</td>
                                        <td class="tg-0lax-ah">글 API</td>
                                        <td class="tg-0lax-ah"> -- </td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="get">[GET]</span> /api/v1/posts/list</td>
                                        <td class="tg-0lax">글 리스트</td>
                                        <td class="tg-0lax">작성된 글 목록을 10개씩 페이지 네이션하여 응답</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="get">[GET]</span> /api/v1/posts/{id}</td>
                                        <td class="tg-0lax">글 정보</td>
                                        <td class="tg-0lax">작성된 글의 내용, 작성자, 작성일 등을 응답</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span> /api/v1/posts</td>
                                        <td class="tg-0lax">글 생성</td>
                                        <td class="tg-0lax">생성 시 제목, 빈 내용 불가능</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span> /api/v1/posts/image</td>
                                        <td class="tg-0lax">글 이미지 업로드</td>
                                        <td class="tg-0lax">글 작성 시 마크다운에 올리는 이미지를 S3로 업로드</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span> /api/v1/posts/{id}</td>
                                        <td class="tg-0lax">글 수정</td>
                                        <td class="tg-0lax">작성자 만 수정 가능 → 작성된 글의 제목, 내용을 수정</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="delete">[DELETE]</span> /api/v1/posts/{id}</td>
                                        <td class="tg-0lax">글 삭제</td>
                                        <td class="tg-0lax">작성자 만 삭제 가능 → soft-delete 적용</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span> /api/v1/posts/like/{id}
                                        </td>
                                        <td class="tg-0lax">글 좋아요</td>
                                        <td class="tg-0lax">1명당 1번의 좋아요만 가능하도록 적용</td>
                                    </tr>

                                    <tr>
                                        <td class="tg-0lax-ah">Comments</td>
                                        <td class="tg-0lax-ah">댓글 API</td>
                                        <td class="tg-0lax-ah"> -- </td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="get">[GET]</span> /api/v1/posts/{post_id}/list
                                        </td>
                                        <td class="tg-0lax">댓글 리스트</td>
                                        <td class="tg-0lax">작성된 댓글 목록을 10개씩 페이지 네이션하여 응답</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="post">[POST]</span> /api/v1/posts/{post_id}
                                        </td>
                                        <td class="tg-0lax">댓글 생성</td>
                                        <td class="tg-0lax">생성 시 빈 내용 불가능</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span>
                                            /api/v1/posts/{post_id}/comments/image</td>
                                        <td class="tg-0lax">댓글 이미지 업로드</td>
                                        <td class="tg-0lax">댓글 작성 시 마크다운에 올리는 이미지를 S3로 업로드</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="patch">[PATCH]</span>
                                            /api/v1/posts/{post_id}/comments/{id}</td>
                                        <td class="tg-0lax">댓글 수정</td>
                                        <td class="tg-0lax">작성자 만 수정 가능 → 내용을 수정</td>
                                    </tr>
                                    <tr>
                                        <td class="tg-0lax"><span class="delete">[DELETE]</span>
                                            /api/v1/posts/{post_id}/comments/{id}</td>
                                        <td class="tg-0lax">댓글 삭제</td>
                                        <td class="tg-0lax">작성자 만 삭제 가능 → soft-delete 적용</td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>

                        <br>
                        <br>
                        <br>
                        <h2 style="text-align: center;">인프라 구조</h2>
                        <p> 모든 인프라는 Terraform 으로 관리합니다. Infra_Developer_Discovery 깃허브를 참고 하세요.</p>
                        <div class="photo">
                            <img width="90%" alt="docker_infra"
                                src="../images/developer_discovery/DeveloperDiscovery_with_nginx.png">
                        </div>
                        <div style="text-align: left;">
                            <p> 📍 구성</p>
                            <p> - Nginx를 이용해 image의 경우 S3에서 가져오도록 하고, api는 Django 에서 불러오도록 합니다.</p>
                            <p> - S3(업로드), RDS 등은 특정 VPC 내부에서만 접근하도록 설정하였습니다.</p>
                            <p> - 나머지 페이지는 Nextjs에서 가져와서 응답하게 됩니다.</p>
                            <br>
                            <p>⚠️ 비용 문제</p>
                            <p> - 비용이 약 월 7만 5천원 정도 산정이 되는 상태이고, 개인 프로젝트로서 유지에는 문제가 있어 AWS 서빙을 중단할 예정입니다.</p>
                            <p> - Heroku 등 다른 서비스를 생각중이고 상황에 따라 개발 자체를 중단할 예정입니다.</p>

                        </div>
                        <br>
                        <br>
                        <div style="text-align: left;">
                            <p> ⚠️ 이슈 및 구조 변경 내역</p>
                            <details style="color: white;">
                                <summary>초기 구성</summary>
                                <div style="text-align: center;">
                                    <img width="80%" alt="first_infra"
                                        src="../images/developer_discovery/DeveloperDiscoveryInfra.png">
                                </div>
                                <br>
                                초기 구성에서는 EC2에 Docker 이미지를 불러와 실행시키도록 스크립트를 수행하도록 설정하였습니다. 이 당시에는 Nextjs가 따로 없었지만, 상호작용을
                                위해서 Vercel을 도입하였습니다.
                            </details>
                            <br>
                            <details style="color: white;">
                                <summary>Vercel 구성</summary>
                                <div style="text-align: center;">
                                    <img width="90%" alt="first_infra"
                                        src="../images/developer_discovery/DeveloperDiscovery.png">
                                </div>
                                <br> Vercel 도입으로 화면이 정상적으로 보여지게 되었습니다. 하지만, 인프라 관리를 AWS, Vercel 따로 봐야 하는 것, 비용 등 통합이 안되는
                                문제가
                                있었고, 특히 렌더링 속도와 관련해서 Vercel에서 페이지를 불러오는 네트워크 비용이 발생하여서 최종적으로 EC2 내부로 옮기게 되었습니다. 이와 관련해서
                                EC2 인스턴스 업그레이드와 내부 Nginx를 통한 라우팅을 설정하게 되었습니다.
                            </details>
                        </div>

                        <br>
                        <br>

                        <h2>프로젝트를 진행하면서..</h2>
                        <div style="text-align: left;">

                            <p>Django 에서 JWT 구현 방식과 기능을 위한 다양한 라이브러리를 접할 수 있어서 좋았습니다. 저 혼자 프론트, 백엔드, 데브옵스를 각각 진행하게 되면서 각
                                직무에
                                대한 삽질, 경험을 늘리게 된 것 같습니다. 다만, 기획과 디자인을 따로 지정하지 않아서 목적이 추상적이었고, 마땅한 문서도 작성하지 않아 진행이 조금 느렸던
                                것 같습니다.
                                내심 기획과 디자이너의 중요성을 다시 느끼게 되었습니다.</p>
                            <br>
                            <p>실제 AWS 로 다른 사람들도 접속할 수 있는 웹사이트로는 처음인 프로젝트인 만큼 애착이 강했지만, 현재 제 실력으로는 경쟁력도 없는 서비스이고, 더 발전하기
                                어렵다는 생각이 들었습니다. 따라서, 추후 개선된 상태로 다시 오픈하거나, 다른 프로젝트와 연계해서 진행할 예정입니다. 확실한 것은 실제 서비스를 구성하면서
                                필요한 것과 비용관리, 배포 구조, 서비스 구조에 대해서 깊이있게 공부하게 된 것 같습니다. 이외에도 기술을 내것으로
                                만들게 된 계기가 되어서 후회는 없는 것 같습니다.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="footer">

    </section>
</body>

</html>